--- # ==================== 注册中心相关配置 ==================== #

spring:
    cloud:
        nacos:
            server-addr: 127.0.0.1:8848
            discovery:
                namespace: dev

--- # ==================== 配置中心相关配置 ==================== #

spring:
    cloud:
        nacos:
            config:
                server-addr: 127.0.0.1:8848
                namespace: dev
                file-extension: yaml
--- # ==================== 跨域配置 ==================== #
spring:
    cloud:
        gateway:
            globalcors:
                cors-configurations:
                    '[/**]': # 匹配所有请求
                        allowedOrigins: "*" #跨域处理 允许所有的域
                        allowedMethods: # 支持的方法
                            - GET
                            - POST
                            - PUT
                            - DELETE

--- # ==================== gateway 转发配置 ==================== #

spring:
    cloud:
        gateway:
            routes:
                ### 统一的 swagger 资源访问路径配置
                -   id: swagger-system-api
                    uri: lb://edu-module-system
                    predicates:
                        - Path=/system/v2/**
                    filters:
                        - StripPrefix=1

                -   id: swagger-infra-api
                    uri: lb://edu-module-infra
                    predicates:
                        - Path=/infra/v2/**
                    filters:
                        - StripPrefix=1

                -   id: swagger-course-api
                    uri: lb://edu-module-course
                    predicates:
                        - Path=/course/v2/**
                    filters:
                        - StripPrefix=1

                -   id: swagger-member-api
                    uri: lb://edu-module-member
                    predicates:
                        - Path=/member/v2/**
                    filters:
                        - StripPrefix=1

                ### api 访问路径

                -   id: system-system-api
                    uri: lb://edu-module-system
                    predicates:
                        - Path=/system/**
                    filters:
                        - StripPrefix=1

                -   id: system-infra-api
                    uri: lb://edu-module-infra
                    predicates:
                        - Path=/infra/**
                    filters:
                        - StripPrefix=1

                -   id: system-course-api
                    uri: lb://edu-module-course
                    predicates:
                        - Path=/course/**
                    filters:
                        - StripPrefix=1

                -   id: system-member-api
                    uri: lb://edu-module-member
                    predicates:
                        - Path=/member/**
                    filters:
                        - StripPrefix=1


